<div id="culture_home"></div>
<div id="culture_switch"></div>

<script>
    function getCurrentCulture() {
        const path = location.pathname.split('/');
        const cultureIndex = path.length - 2;
        switch (path[cultureIndex]) {
            case "ja-jp":
                return "en-us";
            case "en-us":
                return "ja-jp";
            default:
                return null;
        }
    }

    function setCultureSwitch($culture) {
        switch ($culture) {
            case "ja-jp":
                var nextCulture = "en-us";
                var nextCultureString = "ENGLISH"
                break;
            case "en-us":
                var nextCulture = "ja-jp";
                var nextCultureString = "日本語"
                break;
            default:
                return;
        }

        const path = location.pathname.split('/');
        const cultureIndex = path.length - 2;
        path[cultureIndex] = nextCulture;
        const nextPath = path.join('/');

        const element = document.getElementById("culture_switch");
        if (element == null) return;
        element.innerHTML = `<a href=\"${nextPath}\">${nextCultureString}</a>`;
    }

    function setCultureHome($culture) {
        if ($culture == null) return;
        const element = document.getElementById("culture_home");
        if (element == null) return;
        element.innerHTML = `<a href=\"{{ site.baseurl }}/${culture}/\">HOME</a>`;
    }

    function setCultureElement() {
        $culture = getCurrentCulture();
        if ($culture == null) return;
        setCultureSwitch($current);
        setCultureHome($current);
    }

    setCultureElement();
</script>